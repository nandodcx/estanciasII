<!DOCTYPE html>
<html lang="es" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Universitario - Dashboard</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <script>
        /* Configuración de Tailwind */
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#9BD86B",
                        "secondary": "#10b981",
                        "background-light": "#f6f7f8",
                        "background-dark": "#111721",
                        "new-practice": "#9BD86B"
                    },
                    fontFamily: {
                        "display": ["Public Sans"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                },
            },
        };
    </script>
</head>
<body class="bg-background-light dark:bg-background-dark font-display">
    <!-- HEADER CORREGIDO - AHORA ES FIXED -->
    <div class="header-container">
        <div class="header">
            <div class="header-left">
                <div class="logo-container">
                    <img src="../assets/img/logo2.jpg" alt="UNIPOLI Logo" class="logo-img">
                </div>
                <div class="university-name">
                    <div class="university-line1" data-i18n="university.line1">Universidad Politécnica de</div>
                    <div class="university-line1" data-i18n="university.line2">Durango</div>
                </div>
            </div>
            
            <div class="user-profile">
                <div class="user-image-container">
                    <div class="user-initials" id="user-initials-btn">
                        A
                    </div>
                </div>
                <div class="user-name" data-i18n="header.admin">Administrador</div>
                <div class="hamburger-menu" id="hamburger-menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
        
        <!-- MENÚ MÓVIL SIMPLIFICADO -->
        <div class="mobile-menu" id="mobile-menu">
            <!-- Información del usuario en el menú móvil -->
            <div class="mobile-user-info">
                <div class="mobile-user-image">
                    <div class="user-initials">
                        A
                    </div>
                </div>
                <div class="mobile-user-details">
                    <div class="mobile-user-name" data-i18n="header.admin">Administrador</div>
                    <div class="mobile-user-role" data-i18n="header.admin">Administrador</div>
                </div>
            </div>
            
            <div class="mobile-menu-item" onclick="mostrarPerfil()">
                <i class="fas fa-user"></i>
                <span data-i18n="menu.profile">Perfil</span>
            </div>
            <div class="mobile-menu-item cerrar-sesion" onclick="abrirModalCerrarSesion()">
                <i class="fas fa-sign-out-alt"></i>
                <span data-i18n="menu.logout">Cerrar Sesión</span>
            </div>
        </div>
    </div>

    <div class="flex pt-16">
        <!-- Mobile Sidebar - CORREGIDO Z-INDEX -->
        <div id="mobile-sidebar" class="mobile-menu-closed md:hidden fixed inset-0 z-30 bg-black bg-opacity-50 transition-opacity">
            <div class="sidebar w-64 bg-white dark:bg-gray-800 h-full shadow-md border-r border-gray-200 dark:border-gray-700 transform transition-transform sidebar-container">
                <div class="p-4 h-full flex flex-col">
                    <div class="flex-1">
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-lg font-bold text-gray-800 dark:text-white" data-i18n="menu.title">Menú</span>
                            <button id="close-mobile-menu" class="p-2 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <ul class="space-y-2">
                            <li>
                                <a href="#" id="mobile-dashboard-link" class="flex items-center gap-3 p-3 rounded-lg bg-primary text-white">
                                    <i class="fas fa-tachometer-alt"></i>
                                    <span data-i18n="menu.dashboard">Dashboard</span>
                                </a>
                            </li>
                            <li>
                                <a href="#" id="mobile-practices-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                    <i class="fas fa-laptop-code"></i>
                                    <span data-i18n="menu.practices">Prácticas</span>
                                </a>
                            </li>
                            <li>
                                <a href="#" id="mobile-agenda-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                    <i class="fas fa-calendar-alt"></i>
                                    <span data-i18n="menu.agenda">Agenda</span>
                                </a>
                            </li>
                            <li>
                                <a href="#" id="mobile-users-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                    <i class="fas fa-users"></i>
                                    <span data-i18n="menu.users">Usuarios</span>
                                </a>
                            </li>
                            <li>
                                <a href="#" id="mobile-reports-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                    <i class="fas fa-chart-bar"></i>
                                    <span data-i18n="menu.reports">Reportes</span>
                                </a>
                            </li>
                            <li>
                                <a href="#" id="mobile-settings-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                    <i class="fas fa-cog"></i>
                                    <span data-i18n="menu.settings">Configuración</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Botón Cerrar Sesión en color rojo - POSICIONADO EN LA PARTE INFERIOR - ADAPTADO DEL CÓDIGO MÁS PEQUEÑO -->
                    <div class="logout-sidebar">
                        <a href="#" id="mobile-logout-link" class="logout-link" onclick="abrirModalCerrarSesion()">
                            <i class="fas fa-sign-out-alt"></i>
                            <span data-i18n="menu.logout">Cerrar Sesión</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Desktop Sidebar FIJADO - CORREGIDO Z-INDEX -->
        <div class="sidebar hidden md:block w-64 bg-white dark:bg-gray-800 fixed top-16 left-0 h-[calc(100vh-4rem)] shadow-md border-r border-gray-200 dark:border-gray-700 overflow-y-auto z-30 sidebar-container">
            <div class="p-4 h-full flex flex-col">
                <div class="flex-1">
                    <ul class="space-y-2">
                        <li>
                            <a href="#" id="dashboard-link" class="flex items-center gap-3 p-3 rounded-lg bg-primary text-white">
                                <i class="fas fa-tachometer-alt"></i>
                                <span data-i18n="menu.dashboard">Dashboard</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" id="practices-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                <i class="fas fa-laptop-code"></i>
                                <span data-i18n="menu.practices">Prácticas</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" id="agenda-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                <i class="fas fa-calendar-alt"></i>
                                <span data-i18n="menu.agenda">Agenda</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" id="users-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                <i class="fas fa-users"></i>
                                <span data-i18n="menu.users">Usuarios</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" id="reports-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                <i class="fas fa-chart-bar"></i>
                                <span data-i18n="menu.reports">Reportes</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" id="settings-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                <i class="fas fa-cog"></i>
                                <span data-i18n="menu.settings">Configuración</span>
                            </a>
                        </li>
                    </ul>
                </div>
                
                <!-- Botón Cerrar Sesión en color rojo - POSICIONADO EN LA PARTE INFERIOR - ADAPTADO DEL CÓDIGO MÁS PEQUEÑO -->
                <div class="logout-sidebar">
                    <a href="#" id="logout-link" class="logout-link" onclick="abrirModalCerrarSesion()">
                        <i class="fas fa-sign-out-alt"></i>
                        <span data-i18n="menu.logout">Cerrar Sesión</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Main Content - CORREGIDO -->
        <div class="flex-1 p-6 md:ml-64 mt-0">
            <!-- Dashboard View -->
            <div id="dashboard-view" class="fade-in">
                <h1 class="text-2xl font-bold text-gray-800 dark:text-white mb-6" data-i18n="dashboard.title">Dashboard de Administración</h1>
                
                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="dashboard-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600 dark:text-gray-400" data-i18n="dashboard.totalPractices">Total Prácticas</p>
                                <p class="text-2xl font-bold text-gray-800 dark:text-white" id="total-practices">0</p>
                            </div>
                             <div class="p-3 rounded-lg" style="background-color: #AED5F5;">
                                <i class="fas fa-laptop-code text-blue-600 text-2xl"></i>
                            </div>

                        </div>
                        <div class="mt-4">
                            <div class="flex items-center text-sm text-green-500">
                                <i class="fas fa-arrow-up mr-1"></i>
                                <span data-i18n="dashboard.stats.increase">12% más que el mes pasado</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600 dark:text-gray-400" data-i18n="dashboard.monthPractices">Prácticas Este Mes</p>
                                <p class="text-2xl font-bold text-gray-800 dark:text-white" id="month-practices">0</p>
                            </div>
                            <div class="p-3 bg-green-100 dark:bg-green-900 rounded-lg">
                                <i class="fas fa-calendar-check text-green-500 text-xl"></i>
                            </div>
                        </div>
                        <div class="mt-4">
                            <div class="flex items-center text-sm text-green-500">
                                <i class="fas fa-arrow-up mr-1"></i>
                                <span data-i18n="dashboard.stats.weeklyIncrease">5% más que la semana pasada</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600 dark:text-gray-400" data-i18n="dashboard.professors">Profesores</p>
                                <p class="text-2xl font-bold text-gray-800 dark:text-white" id="total-professors">0</p>
                            </div>
                            <div class="p-3 bg-purple-100 dark:bg-purple-900 rounded-lg">
                                <i class="fas fa-user-tie text-purple-500 text-xl"></i>
                            </div>
                        </div>
                        <div class="mt-4">
                            <div class="flex items-center text-sm text-gray-500">
                                <span data-i18n="dashboard.stats.noChanges">Sin cambios</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600 dark:text-gray-400" data-i18n="dashboard.subjects">Asignaturas</p>
                                <p class="text-2xl font-bold text-gray-800 dark:text-white" id="total-subjects">0</p>
                            </div>
                            <div class="p-3 bg-yellow-100 dark:bg-yellow-900 rounded-lg">
                                <i class="fas fa-book text-yellow-500 text-xl"></i>
                            </div>
                        </div>
                        <div class="mt-4">
                            <div class="flex items-center text-sm text-green-500">
                                <i class="fas fa-arrow-up mr-1"></i>
                                <span data-i18n="dashboard.stats.newThisMonth">2 nuevas este mes</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Activities and Charts -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Recent Activities -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4" data-i18n="dashboard.recentActivities">Actividad Reciente</h2>
                        <div class="space-y-4" id="recent-activities">
                            <!-- Las actividades se cargarán dinámicamente -->
                        </div>
                    </div>
                    
                    <!-- Upcoming Practices -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4" data-i18n="dashboard.upcomingPractices">Próximas Prácticas</h2>
                        <div class="space-y-4" id="upcoming-practices">
                            <!-- Las prácticas próximas se cargarán dinámicamente -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Practices View -->
            <div id="practices-view" class="hidden fade-in">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-bold text-gray-800 dark:text-white" data-i18n="practices.title">Gestión de Prácticas</h1>
                    <button id="add-practice-btn" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2">
                        <i class="fas fa-plus"></i>
                        <span data-i18n="practices.newPractice">Nueva Práctica</span>
                    </button>
                </div>
                
                <!-- Controles de Interactividad -->
                <div class="mb-6 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
                    <div class="flex flex-wrap gap-4 items-center">
                        <!-- Búsqueda -->
                        <div class="flex-1 min-w-[200px]">
                            <label for="search" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-i18n="common.search">Buscar</label>
                            <input type="text" id="search" placeholder="Buscar en la tabla..." 
                                   class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white">
                        </div>
                        
                        <!-- Filtro por profesor -->
                        <div class="flex-1 min-w-[200px]">
                            <label for="professor-filter" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-i18n="practices.filterByProfessor">Filtrar por profesor</label>
                            <select id="professor-filter" 
                                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white">
                                <option value="" data-i18n="common.all">Todos los profesores</option>
                            </select>
                        </div>
                        
                        <!-- Filtro por estado -->
                        <div class="flex-1 min-w-[200px]">
                            <label for="status-filter" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-i18n="practices.filterByStatus">Filtrar por estado</label>
                            <select id="status-filter" 
                                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white">
                                <option value="" data-i18n="common.all">Todos los estados</option>
                                <option value="programada" data-i18n="status.scheduled">Programada</option>
                                <option value="confirmada" data-i18n="status.confirmed">Confirmada</option>
                                <option value="en-curso" data-i18n="status.inProgress">En curso</option>
                                <option value="completada" data-i18n="status.completed">Completada</option>
                                <option value="cancelada" data-i18n="status.cancelled">Cancelada</option>
                            </select>
                        </div>
                        
                        <!-- Botones de acción -->
                        <div class="flex gap-2 items-end">
                            <button id="reset-filters" class="px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors" data-i18n="common.reset">
                                Restablecer
                            </button>
                            <button id="export-pdf-btn" class="px-4 py-2 bg-primary text-white rounded-md hover:bg-green-700 transition-colors" data-i18n="common.exportPDF">
                                Exportar PDF
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Tabla de Prácticas -->
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                    <div class="overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700" id="table-container">
                        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700" id="data-table">
                            <thead class="bg-gray-50 dark:bg-gray-800">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider sortable" data-column="date" scope="col">
                                        <span data-i18n="practices.table.date">FECHA</span>
                                        <span class="sort-icon">↕</span>
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider sortable" data-column="practice" scope="col">
                                        <span data-i18n="practices.table.practice">PRÁCTICA</span>
                                        <span class="sort-icon">↕</span>
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider sortable" data-column="professor" scope="col">
                                        <span data-i18n="practices.table.professor">PROFESOR</span>
                                        <span class="sort-icon">↕</span>
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider sortable" data-column="subject" scope="col">
                                        <span data-i18n="practices.table.subject">ASIGNATURA</span>
                                        <span class="sort-icon">↕</span>
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider sortable" data-column="status" scope="col">
                                        <span data-i18n="practices.table.status">ESTADO</span>
                                        <span class="sort-icon">↕</span>
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                        <span data-i18n="practices.table.actions">ACCIONES</span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="table-body" class="bg-white dark:bg-background-dark divide-y divide-gray-200 dark:divide-gray-700">
                                <!-- Los datos se cargarán dinámicamente con JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Información de resultados -->
                    <div class="p-4 border-t border-gray-200 dark:border-gray-700 text-sm text-gray-500 dark:text-gray-400">
                        <span data-i18n="common.showing">Mostrando</span> <span id="results-count">0</span> <span data-i18n="common.of">de</span> <span id="total-count">0</span> <span data-i18n="practices.practices">prácticas</span>
                    </div>
                </div>
            </div>
            
            <!-- Agenda View - CORREGIDA -->
            <div id="agenda-view" class="hidden fade-in">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-bold text-gray-800 dark:text-white" data-i18n="agenda.title">Agenda - Disponibilidad</h1>
                    <button id="add-practice-agenda-btn" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2">
                        <i class="fas fa-plus"></i>
                        <span data-i18n="practices.newPractice">Nueva Práctica</span>
                    </button>
                </div>
                
                <!-- Tabla de Disponibilidad - CORREGIDA -->
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                    <div class="schedule-container">
                        <div class="schedule-header">
                            <h3 class="text-lg font-semibold text-gray-800 dark:text-white" data-i18n="agenda.weeklyAvailability">Disponibilidad Semanal</h3>
                            <div class="schedule-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #fecaca;"></div>
                                    <span class="text-gray-600 dark:text-gray-300" data-i18n="agenda.occupied">Ocupado</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #d1fae5;"></div>
                                    <span class="text-gray-600 dark:text-gray-300" data-i18n="agenda.available">Disponible</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="schedule-wrapper">
                            <table class="schedule-table">
                                <thead>
                                    <tr>
                                        <th class="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white" data-i18n="agenda.timeDay">Hora/Día</th>
                                        <th class="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white" data-i18n="days.monday">Lunes</th>
                                        <th class="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white" data-i18n="days.tuesday">Martes</th>
                                        <th class="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white" data-i18n="days.wednesday">Miércoles</th>
                                        <th class="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white" data-i18n="days.thursday">Jueves</th>
                                        <th class="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white" data-i18n="days.friday">Viernes</th>
                                    </tr>
                                </thead>
                                <tbody id="schedule-body-agenda">
                                    <!-- Las celdas se generarán con JavaScript -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="mt-4 text-sm text-gray-500 dark:text-gray-400">
                            <p data-i18n="agenda.description">La tabla muestra la disponibilidad de los laboratorios para la semana actual.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Users View -->
            <div id="users-view" class="hidden fade-in">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-bold text-gray-800 dark:text-white" data-i18n="users.title">Gestión de Usuarios</h1>
                    <button id="add-user-btn" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2">
                        <i class="fas fa-user-plus"></i>
                        <span data-i18n="users.addUser">Agregar Usuario</span>
                    </button>
                </div>
                
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700" id="users-table">
                            <thead class="bg-gray-50 dark:bg-gray-800">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="users.table.user">
                                        Usuario
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="users.table.role">
                                        Rol
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="users.table.email">
                                        Correo
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="users.table.status">
                                        Estado
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="users.table.lastAccess">
                                        Último Acceso
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="users.table.actions">
                                        Acciones
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body" class="bg-white dark:bg-background-dark divide-y divide-gray-200 dark:divide-gray-700">
                                <!-- Los datos se cargarán dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Reports View - MODIFICADO -->
            <div id="reports-view" class="hidden fade-in">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-bold text-gray-800 dark:text-white" data-i18n="reports.title">Reportes de Prácticas</h1>
                    <button id="export-reports-btn" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2">
                        <i class="fas fa-file-export"></i>
                        <span data-i18n="reports.exportReport">Exportar Reporte</span>
                    </button>
                </div>
                
                <!-- Controles de Filtrado -->
                <div class="mb-6 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <!-- Búsqueda -->
                        <div>
                            <label for="reports-search" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-i18n="common.search">Buscar</label>
                            <input type="text" id="reports-search" placeholder="Buscar en la tabla..." 
                                   class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white">
                        </div>
                        
                        <!-- Filtro por profesor -->
                        <div>
                            <label for="reports-professor-filter" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-i18n="practices.filterByProfessor">Filtrar por profesor</label>
                            <select id="reports-professor-filter" 
                                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white">
                                <option value="" data-i18n="common.all">Todos los profesores</option>
                                <option value="Dr. Fued">Dr. Fued</option>
                                <option value="Prof. Estefano">Prof. Estefano</option>
                                <option value="Prof. Ricardo">Prof. Ricardo</option>
                                <option value="Prof. Valeria">Prof. Valeria</option>
                            </select>
                        </div>
                        
                        <!-- Filtro por estado -->
                        <div>
                            <label for="reports-status-filter" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-i18n="practices.filterByStatus">Filtrar por estado</label>
                            <select id="reports-status-filter" 
                                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white">
                                <option value="" data-i18n="common.all">Todos los estados</option>
                                <option value="programada" data-i18n="status.scheduled">Programada</option>
                                <option value="confirmada" data-i18n="status.confirmed">Confirmada</option>
                                <option value="en-curso" data-i18n="status.inProgress">En curso</option>
                                <option value="completada" data-i18n="status.completed">Completada</option>
                                <option value="cancelada" data-i18n="status.cancelled">Cancelada</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Tabla de Reportes -->
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                    <div class="overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700">
                        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700" id="reports-table">
                            <thead class="bg-gray-50 dark:bg-gray-800">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="practices.table.date">
                                        FECHA
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="practices.table.practice">
                                        PRÁCTICA
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="reports.table.objective">
                                        OBJETIVO
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="practices.table.professor">
                                        PROFESOR
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="practices.table.subject">
                                        ASIGNATURA
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="practices.table.actions">
                                        ACCIONES
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="bg-white dark:bg-background-dark divide-y divide-gray-200 dark:divide-gray-700" id="reports-table-body">
                                <!-- Las filas se generarán dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Información de resultados -->
                    <div class="p-4 border-t border-gray-200 dark:border-gray-700 text-sm text-gray-500 dark:text-gray-400">
                        <span data-i18n="common.showing">Mostrando</span> <span id="reports-results-count">0</span> <span data-i18n="common.of">de</span> <span id="reports-total-count">0</span> <span data-i18n="practices.practices">prácticas</span>
                    </div>
                </div>
            </div>
            
            <!-- Settings View - ACTUALIZADA CON FUNCIONALIDAD COMPLETA -->
            <div id="settings-view" class="hidden fade-in">
                <h1 class="text-2xl font-bold text-gray-800 dark:text-white mb-6" data-i18n="settings.title">Configuración del Sistema</h1>
                
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                    <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4" data-i18n="settings.preferences">Preferencias</h2>
                    
                    <div class="space-y-6">
                        <!-- Modo Oscuro -->
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-800 dark:text-white" data-i18n="settings.darkMode">Modo Oscuro</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400" data-i18n="settings.darkModeDescription">Activar/desactivar el modo oscuro</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="dark-mode-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        
                        <!-- Notificaciones por Email -->
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-800 dark:text-white" data-i18n="settings.emailNotifications">Notificaciones por Email</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400" data-i18n="settings.emailNotificationsDescription">Recibir notificaciones por correo electrónico</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="email-notifications" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        
                        <!-- Idioma -->
                        <div>
                            <label for="language" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-i18n="settings.language">Idioma</label>
                            <select id="language" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white">
                                <option value="es">Español</option>
                                <option value="en">English</option>
                            </select>
                        </div>
                        
                        <!-- Botón Guardar -->
                        <div class="flex justify-end">
                            <button id="save-settings" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-green-700 transition-colors" data-i18n="settings.saveSettings">
                                Guardar Configuración
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Edición de Práctica - MODIFICADO SIN CAMPO DÍA -->
    <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden fade-in">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl mx-4 slide-in">
            <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white" id="edit-modal-title" data-i18n="practices.editPractice">Editar Práctica</h3>
                    <button id="close-edit-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <form id="edit-practice-form" class="p-6">
                <input type="hidden" id="edit-practice-id">
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="edit-practice-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            <span data-i18n="practices.form.date">Fecha de Práctica</span> <span class="text-red-500">*</span>
                        </label>
                        <input type="date" id="edit-practice-date" required
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                    </div>
                    
                    <div>
                        <label for="edit-practice-time" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            <span>Hora de Práctica</span> <span class="text-red-500">*</span>
                        </label>
                        <select id="edit-practice-time" required
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                            <option value="">Seleccione una hora</option>
                            <option value="7:00">7:00 - 8:00</option>
                            <option value="8:00">8:00 - 9:00</option>
                            <option value="9:00">9:00 - 10:00</option>
                            <option value="10:00">10:00 - 11:00</option>
                            <option value="11:00">11:00 - 12:00</option>
                            <option value="12:00">12:00 - 13:00</option>
                            <option value="13:00">13:00 - 14:00</option>
                            <option value="14:00">14:00 - 15:00</option>
                            <option value="15:00">15:00 - 16:00</option>
                            <option value="16:00">16:00 - 17:00</option>
                            <option value="17:00">17:00 - 18:00</option>
                            <option value="18:00">18:00 - 19:00</option>
                            <option value="19:00">19:00 - 20:00</option>
                        </select>
                    </div>
                </div>
                
                <div class="mb-6">
                    <label for="edit-practice-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        <span data-i18n="practices.form.name">Nombre de Práctica</span> <span class="text-red-500">*</span>
                    </label>
                    <input type="text" id="edit-practice-name" required placeholder="Ej: Laboratorio de Química"
                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="edit-practice-professor" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            <span data-i18n="practices.form.professor">Profesor</span> <span class="text-red-500">*</span>
                        </label>
                        <select id="edit-practice-professor" required
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                            <option value="" data-i18n="practices.form.selectProfessor">Seleccione un profesor</option>
                            <option value="Dr. Fued">Dr. Fued</option>
                            <option value="Prof. Estefano">Prof. Estefano</option>
                            <option value="Prof. Ricardo">Prof. Ricardo</option>
                            <option value="Prof. Valeria">Prof. Valeria</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="edit-practice-subject" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            <span data-i18n="practices.form.subject">Asignatura</span> <span class="text-red-500">*</span>
                        </label>
                        <select id="edit-practice-subject" required
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                            <option value="" data-i18n="practices.form.selectSubject">Seleccione una asignatura</option>
                            <option value="Programación Concurrente">Programación Concurrente</option>
                            <option value="Sistemas Operativos">Sistemas Operativos</option>
                            <option value="Programación I">Programación I</option>
                            <option value="Liderazgo eq. Alto desempeño">Liderazgo eq. Alto desempeño</option>
                        </select>
                    </div>
                </div>
                
                <div class="mb-6">
                    <label for="edit-practice-objective" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        <span data-i18n="practices.form.objective">Objetivo de la Práctica</span> <span class="text-red-500">*</span>
                    </label>
                    <textarea id="edit-practice-objective" required rows="3" placeholder="Describa el objetivo principal de esta práctica..."
                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors"></textarea>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="edit-practice-lab" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-i18n="practices.form.lab">
                            Laboratorio / Aula
                        </label>
                        <input type="text" id="edit-practice-lab" placeholder="Ej: Laboratorio 3A"
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                    </div>
                    
                    <div>
                        <label for="edit-practice-status" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            <span data-i18n="practices.form.status">Estado</span> <span class="text-red-500">*</span>
                        </label>
                        <select id="edit-practice-status" required
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                            <option value="programada" data-i18n="status.scheduled">Programada</option>
                            <option value="confirmada" data-i18n="status.confirmed">Confirmada</option>
                            <option value="en-curso" data-i18n="status.inProgress">En curso</option>
                            <option value="completada" data-i18n="status.completed">Completada</option>
                            <option value="cancelada" data-i18n="status.cancelled">Cancelada</option>
                        </select>
                    </div>
                </div>
                
                <div class="flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700">
                    <button type="button" id="cancel-edit" class="px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors" data-i18n="common.cancel">
                        Cancelar
                    </button>
                    <button type="submit" class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2">
                        <i class="fas fa-save"></i>
                        <span data-i18n="common.saveChanges">Guardar Cambios</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Eliminación de Práctica -->
    <div id="delete-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden fade-in">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md mx-4 slide-in">
            <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white" data-i18n="practices.confirmDelete">Confirmar Eliminación</h3>
                    <button id="close-delete-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="p-6">
                <div class="flex items-center gap-4 mb-4">
                    <div class="p-3 bg-red-100 dark:bg-red-900 rounded-full">
                        <i class="fas fa-exclamation-triangle text-red-500 text-xl"></i>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-800 dark:text-white" data-i18n="practices.deleteConfirmation">¿Está seguro de eliminar esta práctica?</h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-1" data-i18n="practices.deleteWarning">Esta acción no se puede deshacer.</p>
                    </div>
                </div>
                
                <div class="bg-red-50 dark:bg-red-900/20 p-4 rounded-lg mb-6">
                    <p class="text-sm text-gray-800 dark:text-white font-medium" id="delete-practice-name"></p>
                    <p class="text-xs text-gray-500 dark:text-gray-400 mt-1" id="delete-practice-details"></p>
                </div>
                
                <input type="hidden" id="delete-practice-id">
                
                <div class="flex justify-end gap-3">
                    <button type="button" id="cancel-delete" class="px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors" data-i18n="common.cancel">
                        Cancelar
                    </button>
                    <button type="button" id="confirm-delete" class="px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2">
                        <i class="fas fa-trash"></i>
                        <span data-i18n="practices.deletePractice">Eliminar Práctica</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Edición de Usuario -->
    <div id="edit-user-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden fade-in">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl mx-4 slide-in">
            <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white" id="edit-user-modal-title" data-i18n="users.editUser">Editar Usuario</h3>
                    <button id="close-edit-user-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <form id="edit-user-form" class="p-6">
                <input type="hidden" id="edit-user-id">
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="edit-user-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            <span data-i18n="users.form.fullName">Nombre Completo</span> <span class="text-red-500">*</span>
                        </label>
                        <input type="text" id="edit-user-name" required placeholder="Ej: Juan Pérez"
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                    </div>
                    
                    <div>
                        <label for="edit-user-username" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            <span data-i18n="users.form.username">Usuario</span> <span class="text-red-500">*</span>
                        </label>
                        <input type="text" id="edit-user-username" required placeholder="Ej: juanperez"
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="edit-user-email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            <span data-i18n="users.form.email">Correo Electrónico</span> <span class="text-red-500">*</span>
                        </label>
                        <input type="email" id="edit-user-email" required placeholder="Ej: juan@universidad.edu"
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                    </div>
                    
                    <div>
                        <label for="edit-user-role" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            <span data-i18n="users.form.role">Rol</span> <span class="text-red-500">*</span>
                        </label>
                        <select id="edit-user-role" required
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                            <option value="" data-i18n="users.form.selectRole">Seleccione un rol</option>
                            <option value="Administrador" data-i18n="roles.admin">Administrador</option>
                            <option value="Profesor" data-i18n="roles.teacher">Profesor</option>
                            <option value="Estudiante" data-i18n="roles.student">Estudiante</option>
                        </select>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="edit-user-status" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            <span data-i18n="users.form.status">Estado</span> <span class="text-red-500">*</span>
                        </label>
                        <select id="edit-user-status" required
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                            <option value="Activo" data-i18n="status.active">Activo</option>
                            <option value="Inactivo" data-i18n="status.inactive">Inactivo</option>
                        </select>
                    </div>
                </div>
                
                <div class="flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700">
                    <button type="button" id="cancel-edit-user" class="px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors" data-i18n="common.cancel">
                        Cancelar
                    </button>
                    <button type="submit" class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2">
                        <i class="fas fa-save"></i>
                        <span data-i18n="common.saveChanges">Guardar Cambios</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Eliminación de Usuario -->
    <div id="delete-user-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden fade-in">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md mx-4 slide-in">
            <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white" data-i18n="users.confirmDelete">Confirmar Eliminación</h3>
                    <button id="close-delete-user-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="p-6">
                <div class="flex items-center gap-4 mb-4">
                    <div class="p-3 bg-red-100 dark:bg-red-900 rounded-full">
                        <i class="fas fa-exclamation-triangle text-red-500 text-xl"></i>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-800 dark:text-white" data-i18n="users.deleteConfirmation">¿Está seguro de eliminar este usuario?</h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-1" data-i18n="users.deleteWarning">Esta acción no se puede deshacer.</p>
                    </div>
                </div>
                
                <div class="bg-red-50 dark:bg-red-900/20 p-4 rounded-lg mb-6">
                    <p class="text-sm text-gray-800 dark:text-white font-medium" id="delete-user-name"></p>
                    <p class="text-xs text-gray-500 dark:text-gray-400 mt-1" id="delete-user-details"></p>
                </div>
                
                <input type="hidden" id="delete-user-id">
                
                <div class="flex justify-end gap-3">
                    <button type="button" id="cancel-delete-user" class="px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors" data-i18n="common.cancel">
                        Cancelar
                    </button>
                    <button type="button" id="confirm-delete-user" class="px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2">
                        <i class="fas fa-trash"></i>
                        <span data-i18n="users.deleteUser">Eliminar Usuario</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Cerrar Sesión - ADAPTADO DEL CÓDIGO MÁS PEQUEÑO -->
    <div id="logout-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden fade-in">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md mx-4 slide-in">
            <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white" data-i18n="menu.logout">Cerrar Sesión</h3>
                    <button id="close-logout-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="p-6">
                <div class="flex items-center justify-center mb-4">
                    <div class="w-16 h-16 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center">
                        <i class="fas fa-sign-out-alt text-blue-500 text-2xl"></i>
                    </div>
                </div>
                <p class="text-center text-gray-600 dark:text-gray-300 mb-6" data-i18n="logout.confirmation">
                    ¿Está seguro de que desea cerrar sesión?
                </p>
                
                <div class="flex justify-end gap-3 pt-4">
                    <button id="cancel-logout" class="px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors" data-i18n="common.cancel">
                        Cancelar
                    </button>
                    <button id="confirm-logout" class="px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2">
                        <i class="fas fa-sign-out-alt"></i>
                        <span data-i18n="menu.logout">Cerrar Sesión</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Mensaje de éxito -->
    <div id="success-message" class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 hidden fade-in">
        <div class="flex items-center gap-2">
            <i class="fas fa-check-circle"></i>
            <span id="success-text">¡Operación completada exitosamente!</span>
        </div>
    </div>

    <!-- Botón de Debug Temporal -->
    <div class="fixed bottom-4 right-4 z-50">
        <button onclick="debugSchedule()" class="bg-blue-500 text-white px-4 py-2 rounded-lg">
            Debug Agenda
        </button>
    </div>

    <script src="../assets/js/dash.js"></script>
</body>
</html>